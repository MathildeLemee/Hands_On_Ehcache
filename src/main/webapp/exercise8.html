<!DOCTYPE HTML>
<html>
<head>
    <title>Backbone Cellar</title>
    <link rel="stylesheet" href="css/styles.css"/>
    <script type="text/javascript" src="js/smoothie.js"></script>
    <script src="lib/jquery-1.7.1.min.js"></script>
</head>

<body>
<canvas id="mycanvas" width="400" height="400"></canvas>
<script type="text/javascript">
    // Data

    $(function () {
        $("#clear").click(function () {
            $.ajax({
                type: "DELETE",
                url: "api/exercise8/clear",
                dataType: "html"

            });

            return false;
        });
    });

    // Add a random value to each line every second

    setInterval(function () {
        var id = Math.floor((Math.random() * 10) + 1);
        $.ajax({
            type: "POST",
            url: "api/exercise8/ehcache/create/",
            dataType: "html",
            success: function (data) {
            }
        });
        $.ajax({
            type: "GET",
            url: "api/exercise8/ehcache/nb/",
            dataType: "html",
            success: function (data) {
                $("#nb-element").html(data);
            }
        });

    }, 1000);

    smoothie.addTimeSeries(line2,
            { strokeStyle: 'rgb(255, 0, 255)', fillStyle: 'rgba(255, 0, 255, 0.3)', lineWidth: 3 });


</script>

<h2 style="color: blue">Nb Element : <span id="nb-element"></span> elements</h2>


<a href="#" id="clear">Clear Cache</a>

</body>


</html>